<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Plot a stack of proxy timeseries • geoChronR</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><!-- docsearch --><script src="../docsearch.js"></script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.3/docsearch.min.css" integrity="sha256-QOSRU/ra9ActyXkIBbiIB144aDBdtvXBcNc3OTNuX/Q=" crossorigin="anonymous">
<link href="../docsearch.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/jquery.mark.min.js" integrity="sha256-4HLtjeVgH0eIB3aZ9mLYF6E8oU5chNdjU6p6rrXpl9U=" crossorigin="anonymous"></script><meta property="og:title" content="Plot a stack of proxy timeseries">
<meta property="og:description" content="geoChronR">
<meta property="og:image" content="https://nickmckay.github.io/geoChronR/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">geoChronR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.3</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Tutorials
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li class="divider">
    <li class="dropdown-header">Getting Started With geoChronR</li>
    <li>
      <a href="../articles/Introduction.html">Introduction to geoChronR</a>
    </li>
    <li>
      <a href="../articles/correlation.html">Ensemble Correlation</a>
    </li>
    <li>
      <a href="../articles/regression.html">Ensemble Regression</a>
    </li>
    <li>
      <a href="../articles/spectral_analysis.html">Spectral Analysis</a>
    </li>
    <li>
      <a href="../articles/PCA.html">Ensemble Principal Components Analysis</a>
    </li>
    <li class="divider">
    <li class="dropdown-header">Tutorials highlighting additional geoChronR use cases</li>
    <li>
      <a href="../articles/oxCal.html">Introduction to oxCal in geoChronR</a>
    </li>
    <li>
      <a href="../articles/PlotTimeseriesStack.html">Plot a stack of timeseries</a>
    </li>
    <li>
      <a href="../articles/TsFilteringAndMapping.html">Dataset filtering and mapping (with iso2k)</a>
    </li>
    <li>
      <a href="../articles/tidyIso2k.html">Tidy filtering and mapping (with tidyverse &amp; iso2k)</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/nickmckay/GeoChronR/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
<form class="navbar-form navbar-right hidden-xs hidden-sm" role="search">
        <div class="form-group">
          <input type="search" class="form-control" name="search-input" id="search-input" placeholder="Search..." aria-label="Search for..." autocomplete="off">
</div>
      </form>
      
    </div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="PlotTimeseriesStack_files/header-attrs-2.9/header-attrs.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Plot a stack of proxy timeseries</h1>
                        <h4 class="author">Nick McKay</h4>
            
            <h4 class="date">2022-02-14</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/nickmckay/GeoChronR/blob/master/vignettes/PlotTimeseriesStack.Rmd"><code>vignettes/PlotTimeseriesStack.Rmd</code></a></small>
      <div class="hidden name"><code>PlotTimeseriesStack.Rmd</code></div>

    </div>

    
    
<div id="plotting-a-stack-of-proxy-timeseries" class="section level1">
<h1 class="hasAnchor">
<a href="#plotting-a-stack-of-proxy-timeseries" class="anchor"></a>Plotting a stack of proxy timeseries</h1>
<p>A stalwart of paleoclimate data visualization, for good or bad, is stacking a bunch of timeseries vertically to examine similarities and differences. Although comparing timeseries in this way can be problematic, it remains a space-efficient way to visualize many records. It is straightforward to create such a plot with LiPD data in geoChronR.</p>
<p>Here we’ll load in a handful of data from PAGES2k v2.1.0 database, and explore some of these options.</p>
<div id="load-the-requisite-libraries" class="section level2">
<h2 class="hasAnchor">
<a href="#load-the-requisite-libraries" class="anchor"></a>Load the requisite libraries</h2>
<p>We’ll be using a handful of libraries in this example</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">lipdR</span><span class="op">)</span> <span class="co">#to read and interact with LiPD data</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/nickmckay/GeoChronR">geoChronR</a></span><span class="op">)</span> <span class="co">#for plotting mostly</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://magrittr.tidyverse.org">magrittr</a></span><span class="op">)</span> <span class="co">#we'll be using the magrittr pipe ( %&gt;% ) for simplicity</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span> <span class="co">#and dplyr for data.frame manipulation</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org">ggplot2</a></span><span class="op">)</span> <span class="co">#for plotting</span></code></pre></div>
</div>
<div id="load-in-your-data" class="section level2">
<h2 class="hasAnchor">
<a href="#load-in-your-data" class="anchor"></a>Load in your data</h2>
<p>Load in some data. Below is an example of loading a zip file of LiPDs directly from the web. You can also load individual LiPD files from a url. You also might specify the path to a local file or folder here <code>D &lt;- readLipd("~/MyLipds/")</code>, or use it interactive mode <code>D &lt;- readLipd()</code>. If you’re selecting a directory in interactive mode, just click on any file in the directory that you want.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">D</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lipdR/man/readLipd.html">readLipd</a></span><span class="op">(</span><span class="st">"http://lipdverse.org/geoChronR-examples/euro/Euro2k.zip"</span><span class="op">)</span> </code></pre></div>
</div>
<div id="extract-those-data-into-a-timeseries-object" class="section level2">
<h2 class="hasAnchor">
<a href="#extract-those-data-into-a-timeseries-object" class="anchor"></a>Extract those data into a timeseries object</h2>
<p>OK, now you have a large list of all your files. It’s almost always to work with the data as a “timeseries object”, so let’s extract one of those.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">TS</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lipdR/man/extractTs.html">extractTs</a></span><span class="op">(</span><span class="va">D</span><span class="op">)</span></code></pre></div>
</div>
<div id="filtering-the-ts-object-for-the-data-you-want-" class="section level2">
<h2 class="hasAnchor">
<a href="#filtering-the-ts-object-for-the-data-you-want-" class="anchor"></a>Filtering the TS object for the data you want.</h2>
<p>There will be two opportunities to filter your potentially very large collection of data down to what you want to analyze. Our next step, creating a “tidy” data frame, can be <em>very</em> slow with large TS options, so it’s best to filter what you can with the TS object first. See <code><a href="https://rdrr.io/pkg/lipdR/man/filterTs.html">?filterTs</a></code> for options on how to do that. Here, we’re going to grab all the records with the “paleoData_useInGlobalTemperatureAnalysis” flag, and filter geographically a bit.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mts</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lipdR/man/filterTs.html">filterTs</a></span><span class="op">(</span><span class="va">TS</span>, <span class="st">"paleoData_useInGlobalTemperatureAnalysis == TRUE"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/pkg/lipdR/man/filterTs.html">filterTs</a></span><span class="op">(</span><span class="st">"geo_longitude &gt; 0"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://rdrr.io/pkg/lipdR/man/filterTs.html">filterTs</a></span><span class="op">(</span><span class="st">"geo_latitude &gt; 20"</span><span class="op">)</span></code></pre></div>
</div>
<div id="now-create-a-tidy-data-frame-for-querying-filtering-and-plotting-" class="section level2">
<h2 class="hasAnchor">
<a href="#now-create-a-tidy-data-frame-for-querying-filtering-and-plotting-" class="anchor"></a>Now create a “tidy” data.frame for querying, filtering and plotting.</h2>
<p>The <code><a href="https://rdrr.io/pkg/lipdR/man/tidyTs.html">tidyTs()</a></code> function will take a timeseries object and turn it into a long, “tidy”, data frame, where each row is an observation, and each column a variable. This will play very nicely with the <a href="https://www.tidyverse.org/">tidyverse</a> and facilitate efficient data analysis and visualzation. <em>With large TS objects, this can result in data.frames with millions of rows, and can be quite slow to create</em>.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">tidyData</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/lipdR/man/tidyTs.html">tidyTs</a></span><span class="op">(</span><span class="va">mts</span>,age.var <span class="op">=</span> <span class="st">"year"</span><span class="op">)</span></code></pre></div>
</div>
<div id="now-we-can-filter-and-structure-our-tidy-data-frame-with-just-what-we-want-using-tidyverse-tools" class="section level2">
<h2 class="hasAnchor">
<a href="#now-we-can-filter-and-structure-our-tidy-data-frame-with-just-what-we-want-using-tidyverse-tools" class="anchor"></a>Now we can filter and structure our tidy data frame with just what we want using tidyverse tools</h2>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#filter for plotting</span>
<span class="va">plot.df</span> <span class="op">&lt;-</span> <span class="va">tidyData</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/between.html">between</a></span><span class="op">(</span><span class="va">year</span>,<span class="fl">1600</span>,<span class="fl">2000</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="co">#only years from 1600 to 2000</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/between.html">between</a></span><span class="op">(</span><span class="va">geo_longitude</span>,<span class="fl">0</span>,<span class="fl">50</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>  <span class="co">#only European longitudes</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/between.html">between</a></span><span class="op">(</span><span class="va">geo_latitude</span>,<span class="fl">20</span>,<span class="fl">60</span><span class="op">)</span><span class="op">)</span> <span class="op">%&gt;%</span>  <span class="co">#between 20 and 60 N</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html">filter</a></span><span class="op">(</span><span class="va">interpretation1_variable</span> <span class="op">==</span> <span class="st">"T"</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="co">#only variables sensitive temperature</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html">group_by</a></span><span class="op">(</span><span class="va">paleoData_TSid</span><span class="op">)</span> <span class="op">%&gt;%</span> <span class="co">#group by column</span>
  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">archiveType</span><span class="op">)</span> <span class="co">#and sort by archiveType</span></code></pre></div>
<p>That last <code><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange()</a></code> command controls the order of the data frame, and will also control the order of the stack.</p>
</div>
<div id="ok-we-have-a-tidy-data-frame-that-includes-the-data-we-want-to-plot-" class="section level2">
<h2 class="hasAnchor">
<a href="#ok-we-have-a-tidy-data-frame-that-includes-the-data-we-want-to-plot-" class="anchor"></a>OK, we have a tidy data.frame that includes the data we want to plot.</h2>
<p>The key function for this is plotTimeseriesStack(), and has many options (<code><a href="../reference/plotTimeseriesStack.html">?plotTimeseriesStack</a></code>). We can start simply by giving it the data frame and using the default options:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="co">#plot the stack and color by Archive type</span>
<span class="fu"><a href="../reference/plotTimeseriesStack.html">plotTimeseriesStack</a></span><span class="op">(</span><span class="va">plot.df</span><span class="op">)</span></code></pre></div>
<p><img src="PlotTimeseriesStack_files/figure-html/unnamed-chunk-8-1.png" width="768"> ## Adjusting the options</p>
<p>OK! We have a plot! It looks decent, and by default it colors it by the TSid, but we might rather color it by archiveType. We do that simply:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plotTimeseriesStack.html">plotTimeseriesStack</a></span><span class="op">(</span><span class="va">plot.df</span>,color.var <span class="op">=</span>  <span class="st">"archiveType"</span><span class="op">)</span></code></pre></div>
<p><img src="PlotTimeseriesStack_files/figure-html/unnamed-chunk-9-1.png" width="768"></p>
<p>Better. But we need to make the axis labels smaller, and want to give it some more intuitive colors for each archive</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plotTimeseriesStack.html">plotTimeseriesStack</a></span><span class="op">(</span><span class="va">plot.df</span>,
                    color.var <span class="op">=</span>  <span class="st">"archiveType"</span>,
                    lab.size <span class="op">=</span> <span class="fl">2</span>,
                    color.ramp <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"coral"</span>,<span class="st">"black"</span>,<span class="st">"blue"</span>,<span class="st">"magenta"</span>,<span class="st">"dark green"</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<p><img src="PlotTimeseriesStack_files/figure-html/unnamed-chunk-10-1.png" width="768"></p>
<p>That looks pretty good! Perhaps we think this is too colorful for a journal submission, and we don’t want the shading along each line. And we also want to arrange the lines by latitude instead of archive.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">plot.df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html">arrange</a></span><span class="op">(</span><span class="va">plot.df</span>,<span class="va">geo_latitude</span><span class="op">)</span> <span class="co">#order by latitude</span>
                   
<span class="va">myPlot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/plotTimeseriesStack.html">plotTimeseriesStack</a></span><span class="op">(</span><span class="va">plot.df</span>, <span class="co">#create another plot, storing the output</span>
                    lab.size <span class="op">=</span> <span class="fl">2</span>,
                    color.ramp <span class="op">=</span> <span class="st">"black"</span>,<span class="co">#if we specify one color, all the records will get that</span>
                    fill.alpha <span class="op">=</span> <span class="fl">0</span>, <span class="co">#make the fill transparent</span>
                    lab.space <span class="op">=</span> <span class="fl">3</span>, <span class="co">#add it a bit more space between the axis labels and ticks</span>
                    line.size <span class="op">=</span> <span class="fl">0.4</span><span class="op">)</span> <span class="co">#make the lines a bit thinner</span>
<span class="fu"><a href="https://rdrr.io/r/base/print.html">print</a></span><span class="op">(</span><span class="va">myPlot</span><span class="op">)</span>                   </code></pre></div>
<p><img src="PlotTimeseriesStack_files/figure-html/unnamed-chunk-11-1.png" width="768"></p>
</div>
<div id="additional-manipulation-of-the-plot-with-ggplot2" class="section level2">
<h2 class="hasAnchor">
<a href="#additional-manipulation-of-the-plot-with-ggplot2" class="anchor"></a>Additional manipulation of the plot with ggplot2</h2>
<p>The output of plotTimeseriesStack is a standard ggplot object, which means you can customize and adjust axes and add additional layers. As an example, let’s add rectangular box to highlight an interval of interest, the Maunder Minimum.</p>
<p>The x-axis for our plot is time, and the y-axis is the number of records, counting from the bottom.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">myPlot</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span><span class="op">(</span>geom <span class="op">=</span> <span class="st">"rect"</span>, colour <span class="op">=</span> <span class="cn">NA</span>, fill <span class="op">=</span> <span class="st">"yellow"</span>, xmin <span class="op">=</span> <span class="fl">1645</span>, xmax <span class="op">=</span> <span class="fl">1715</span>, ymin <span class="op">=</span> <span class="fl">0</span>, ymax <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html">unique</a></span><span class="op">(</span><span class="va">plot.df</span><span class="op">$</span><span class="va">dataSetName</span><span class="op">)</span><span class="op">)</span><span class="op">+</span><span class="fl">1</span>,alpha <span class="op">=</span> <span class="fl">0.2</span><span class="op">)</span> <span class="op">+</span>
  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/annotate.html">annotate</a></span><span class="op">(</span>geom <span class="op">=</span> <span class="st">"text"</span>, x <span class="op">=</span> <span class="fl">1675</span>, y <span class="op">=</span> <span class="fl">1</span>, label <span class="op">=</span> <span class="st">"Maunder Minimum"</span><span class="op">)</span></code></pre></div>
<p><img src="PlotTimeseriesStack_files/figure-html/unnamed-chunk-12-1.png" width="768"></p>
</div>
</div>
<div id="conclusion" class="section level1">
<h1 class="hasAnchor">
<a href="#conclusion" class="anchor"></a>Conclusion</h1>
<p>plotTimeseriesStack() is handy for quick visualization, but also can be tinkered to near-publication-quality. For now, this does not work with ageEnsembles, although we hope to include this in the future.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Nicholas McKay, Julien Emile-Geay, Deborah Khider.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  
<script src="https://cdnjs.cloudflare.com/ajax/libs/docsearch.js/2.6.1/docsearch.min.js" integrity="sha256-GKvGqXDznoRYHCwKXGnuchvKSwmx9SRMrZOTh2g4Sb0=" crossorigin="anonymous"></script><script>
  docsearch({
    
    
    apiKey: '21c1c99b27cf4a45be9f8db70183f6c7',
    indexName: 'lipd-utilities',
    inputSelector: 'input#search-input.form-control',
    transformData: function(hits) {
      return hits.map(function (hit) {
        hit.url = updateHitURL(hit);
        return hit;
      });
    }
  });
</script>
</body>
</html>
